<div *ngIf="happening" class="wrapper">
  <mat-card>
    <div>
      <img mat-card-image src="{{happening.image_normal}}" style="cursor: pointer;">
      <div class="starting">
        <span>Friday</span>
        5 december 2018 12:30
        In 3 days and 12 hours
      </div>
    </div>
    <mat-card-content>
      <mat-card-header>
        <div mat-card-avatar (click)="gotoUserProfile(happening.author.id)" [ngStyle]="{'background-image': 'url(' + happening.author.profile_picture_small + ')'}"></div>
        <div class="title-wrapper"> <a [routerLink]="['/events/', happening.id]"> {{happening.title | slice:0:25 }}</a>
          <div class="whatshot">
            <mat-icon>whatshot</mat-icon>
            <span>{{happening.likes ? happening.likes : 0}}</span>
          </div>
        </div>
        <div class="organizer">
          <span class="organizer-text">Organizer:</span>{{happening.author.username}}
        </div>
      </mat-card-header>
      <p class="description">
        {{happening.description | slice:0:150}}
        <span *ngIf="happening.description.length > 150">...
          <a [routerLink]="['/dashboard/']">Read more</a>
        </span>
      </p>
    </mat-card-content>
    <div class="map">
        <app-map-box [markers]="[marker]" [center]="happening.geo_coordinates.coordinates"></app-map-box>
    </div>
  </mat-card>
  <div class="buttons">
      <button style="color:#5E5E5E" mat-button><b>Discussion</b></button>
      <button mat-button color="primary"><b>Photos</b></button>
  </div>
  <app-messages *ngIf="happening" [happening]="happening"></app-messages>
</div>
