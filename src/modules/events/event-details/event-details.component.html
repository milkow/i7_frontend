<div *ngIf="happening" class="wrapper">
  <mat-card>
    <app-cover
      size="short"
      line1="5 december 2018 12:30"
      line2="In 3 days and 12 hours"
      [coverImage]="happening.image_normal"
    ></app-cover>
    
    <div class="mt-3">
      <app-event-header [happ]="happening"></app-event-header>
    </div>

    <mat-card-content class="px-3">
      <div class="description" *ngIf="!descriptionView else sliced">
        <p>
          {{happening.getShortDescription()}}
          <a
            [routerLink]="['/events/', happening.id]"
            *ngIf="happening.isLong()"
          >read more...</a>
        </p>
      </div>
      <ng-template #sliced>{{happening.description}}</ng-template>
    </mat-card-content>
    <div *ngIf="!descriptionView && marker" class="map">
      <app-map-box [markers]="[marker]" [center]="happening.geo_coordinates.coordinates"></app-map-box>
    </div>
  </mat-card>
  <div class="buttons my-3">
    <button style="color:#5E5E5E" mat-button><b>Discussion</b></button>
    <button (click)="goToPhotos()" mat-button color="primary"><b>Photos</b></button>
  </div>
  <app-messages *ngIf="happening && !descriptionView" [happening]="happening"></app-messages>
</div>
